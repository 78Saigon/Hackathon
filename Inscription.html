<html>
<link rel="stylesheet" href="Index.css" />

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hackathon HN Intercontrats</title>

</head>

<body>

    <header>
        <img src="GroupeHN.png" class="image" alt="GroupeHN" />
        <h1>Formulaire</h1>
    </header>

    <nav>
        <ul>
            <li><a href="Index.html">Accueil</a></li>
            <li><a href="Presentation.html">Présentation</a></li>
            <li><a href="EditionsPrecedentes.html">Éditions précédentes</a></li>
        </ul>
    </nav>

    <section>

        <h2>Inscription</h2>
        <p>Vous pouvez vous inscrire en remplissant le formulaire suivant. Les équipes seront formées automatiquement
            pour qu'elles soient équilibrées.</p>

    </section>

    <section class="section_insc">

        <div class="inscription">

            <!-- <form action="ValidationFormulaire.html" method="post"> -->
            <form class="form" id="myForm">

                <h2>Informations d'inscription</h2>
                <label for="nom">Nom</label>
                <input type="text" name="nom" placeholder="Nom" required />
                <br>
                <input type="text" name="prenom" placeholder="Prénom" required />
                <br>
                <input type="email" name="email" placeholder="Mail" required />
                <br>
                <select aria-label="role" name="role" required>
                    <option value="">Sélectionner un rôle</option>
                    <option value="Dev">Développement</option>
                    <option value="Ingé">Ingénieur sécurité</option>
                    <option value="DataAnalyst">Data Analyst</option>
                    <option value="ChefProjet">Chef de Projet IT</option>
                    <option value="DevOps">Ingénieur DevOps</option>
                    <option value="TechIT">Technicien help desk IT</option>
                </select>
                </span>
                <br>            

                <input type="submit" value="Envoyer" />
                <!-- function confirmer() { confirm("Veuillez confirmer votre inscription"); }  -->

            </form>

            <script>
                const myForm = document.getElementById('myForm');

                myForm.addEventListener('submit', function (e) {
                    e.preventDefault();

                    const formData = new FormData(this);
                    console.log(formData);

                    fetch("http://localhost:8080/participants", {
                        method: "POST",
                        body: formData
                        //     JSON.stringify({
                        //     userId: 1,
                        //     title: "Participants",
                        //     name: nom,
                        //     first_name: FirstName,
                        //     mail: Mail,
                        //     role: Role,
                        //     competences: Competence,
                        //     completed: false
                        //}),
                        // headers: {
                        //     "Content-type": "application/json; charset=UTF-8"
                        // }
                    })
                        .then((response) => response.json())
                        .then((json) => console.log(json))
                        .catch(error => console.error('Error', error));
                })
                    

            </script>

        </div>

    </section>

</body>

</html>
